{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarcup(data) {\n    return data\n      .map(\n        el =>\n          `<div class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n                  <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n              </a>\n              <div class=\"gallery-item-info\">\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Likes: <span>${el.likes}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Views: <span>${el.views}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Comments: <span>${el.comments}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Downloads: <span>${el.downloads}</span>\n                      </span>    \n                  </p>\n              </div>\n          </div>`\n      )\n      .join('');\n  }\n","// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\n\n// const loader = document.querySelector('.loader');\nconst KEY = '43440045-443c1624e1412379947e54b30';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\n\n export function getImages(searchWord) {\n\n    const searchParamObj = new URLSearchParams({\n        key: KEY,\n        q: searchWord,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      });\n    const LINK = `${BASE_URL}?${searchParamObj}`;\n\n    // loader.style.display = 'block'; /-------появился----/\n\n    return fetch(LINK)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n    \n}\n","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport { renderMarcup } from \"./js/render-functions.js\";\nimport { getImages } from \"./js/pixabay-api.js\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    nav: true,\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 150,\n  });\n\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n\n  function showMessageError() {\n    iziToast.error({\n        \n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        backgroundColor: '#ef4040',  \n        titleColor: '#FFFFFF',\n        messageColor: '#FFFFFF',\n        theme: 'dark',\n        position: 'topRight',\n        messageSize: '400px',\n\n    }); \n}\n\nfunction showGallery(searchWord) {\n  if (searchWord) {\n    form.reset();\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n    getImages(searchWord)\n         .then(data => {\n          \n\n             const allImages = data.hits;  \n             console.log(allImages);   \n             if (allImages.length > 0) {\n                 gallery.innerHTML = renderMarcup(allImages); \n                 lightbox.refresh();\n             } else {\n                 showMessageError(error);\n             }\n         })\n         .catch((error) => showMessageError(error))\n         .finally(() => loader.style.display = 'none');\n } \n}\n\n\n  form.addEventListener('submit', workSub);\n\n  function workSub(event) {\n    event.preventDefault();\n    const sarchWord = event.target.elements.searchWord.value;\n    showGallery(sarchWord);\n\n  }\n   \n  "],"names":["renderMarcup","data","el","KEY","BASE_URL","getImages","searchWord","searchParamObj","LINK","response","lightbox","SimpleLightbox","form","gallery","loader","showMessageError","iziToast","showGallery","allImages","error","workSub","event","sarchWord"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAC/B,OAAOA,EACJ,IACCC,GACE;AAAA,8CACoCA,EAAG,aAAa;AAAA,oDACVA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,0EAIVA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,0EAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6EAILA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,8EAIVA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,iBAKnF,EACA,KAAK,EAAE,CACd,CCzBA,MAAMC,EAAM,qCACNC,EAAW,2BAIT,SAASC,EAAUC,EAAY,CAEnC,MAAMC,EAAiB,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAO,EACGE,EAAO,GAAGJ,CAAQ,IAAIG,CAAc,GAI1C,OAAO,MAAMC,CAAI,EAChB,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CAEL,CCnBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEKC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAmB,CAC1BC,EAAS,MAAM,CAEX,QAAS,2EACT,gBAAiB,UACjB,WAAY,UACZ,aAAc,UACd,MAAO,OACP,SAAU,WACV,YAAa,OAErB,CAAK,CACL,CAEA,SAASC,EAAYX,EAAY,CAC3BA,IACFM,EAAK,MAAK,EACVC,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvBT,EAAUC,CAAU,EACd,KAAKL,GAAQ,CAGV,MAAMiB,EAAYjB,EAAK,KACvB,QAAQ,IAAIiB,CAAS,EACjBA,EAAU,OAAS,GACnBL,EAAQ,UAAYb,EAAakB,CAAS,EAC1CR,EAAS,QAAO,GAEhBK,EAAiB,KAAK,CAEvC,CAAU,EACA,MAAOI,GAAUJ,EAAsB,CAAC,EACxC,QAAQ,IAAMD,EAAO,MAAM,QAAU,MAAM,EAErD,CAGEF,EAAK,iBAAiB,SAAUQ,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,WAAW,MACnDJ,EAAYK,CAAS,CAEzB"}