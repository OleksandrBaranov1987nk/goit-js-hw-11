{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\n\n// const loader = document.querySelector('.loader');\nconst KEY = '43440045-443c1624e1412379947e54b30';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\n\n export function getImages(searchWord) {\n\n    const searchParamObj = new URLSearchParams({\n        key: KEY,\n        q: searchWord,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      });\n    const LINK = `${BASE_URL}?${searchParamObj}`;\n\n    // loader.style.display = 'block'; /-------появился----/\n\n    return fetch(LINK)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n    \n}\n","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport { renderMarcup } from \"./js/render-functions.js\";\nimport { getImages } from \"./js/pixabay-api.js\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    nav: true,\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 150,\n  });\n\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n\n  function showMessageError(textMes) {\n    iziToast.error({\n        iconUrl: iconError,\n        message: textMes,\n        maxWidth: '432px',\n        position: 'topRight',\n        messageSize: 16,\n        backgroundColor: '#ef4040',\n        titleColor: '#FFFFFF',\n        messageColor: '#FFFFFF',\n        theme: 'dark',\n    }); \n}\n\n  // let searchWord = '';\n\n\n  // form.addEventListener('submit', workSub);\n\n  // function workSub(event) {\n  //   event.preventDefault();\n    \n  //   gallery.innerHTML = '';\n  //   searchWord = form.elements.searchWord.value.trim();\n    \n  //   getImages(searchWord)\n  //   .then(data => {\n  //     const marcup = renderMarcup(data);\n  //     gallery.insertAdjacentHTML('beforeend', marcup);\n\n  //     lightbox.refresh();\n  //   })\n  //   .catch(error => {\n  //     console.error('Error:', error);\n  //   });\n  // form.reset();\n  // }\nfunction showGallery (searchWord) {\n  if (searchWord) {\n    form.reset();\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n    getImages(searchWord)\n         .then(data => {\n          console.log(data);\n            //  const arrayImages = data.hits;\n             \n            //  if (arrayImages.length) {\n            //      gallery.innerHTML = renderMarcup(arrayImages);\n            //      lightbox.refresh();\n            //  } else {\n            //      showMessageError(\n            //          'Sorry, there are no images matching your search query. Please try again!');\n            //  }\n         })\n         .catch((error) => showMessageError(error))\n         .finally(() => loader.style.display = 'none');\n } \n}\n\n\n  form.addEventListener('submit', workSub);\n\n  function workSub(event) {\n    event.preventDefault();\n    const sarchWord = event.target.elements.searchWord.value;\n    showGallery (sarchWord);\n\n  }\n   \n  \n\n\n\n\n\n\n\n\n\n\n//   .then(data => {\n\n//     // loader.style.display = 'none'; /-------исчез----/\n\n//     if (data.hits.length === 0) {\n//         iziToast.error({\n//           message:\n//             'Sorry, there are no images matching your search query. Please try again!',\n//             backgroundColor: '#ef4040',  \n//             titleColor: '#FFFFFF',\n//             messageColor: '#FFFFFF',\n//             theme: 'dark',\n//         });\n//     }\n//     return data;\n// })\n// .catch(error => {\n//     console.log(error);\n// });"],"names":["KEY","BASE_URL","getImages","searchWord","searchParamObj","LINK","response","SimpleLightbox","form","gallery","loader","showMessageError","textMes","iziToast","showGallery","data","error","workSub","event","sarchWord"],"mappings":"6vBAIA,MAAMA,EAAM,qCACNC,EAAW,2BAIT,SAASC,EAAUC,EAAY,CAEnC,MAAMC,EAAiB,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAO,EACGE,EAAO,GAAGJ,CAAQ,IAAIG,CAAc,GAI1C,OAAO,MAAMC,CAAI,EAChB,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CAEL,CCnBiB,IAAIC,EAAe,aAAc,CAC9C,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAiBC,EAAS,CACjCC,EAAS,MAAM,CACX,QAAS,UACT,QAASD,EACT,SAAU,QACV,SAAU,WACV,YAAa,GACb,gBAAiB,UACjB,WAAY,UACZ,aAAc,UACd,MAAO,MACf,CAAK,CACL,CAyBA,SAASE,EAAaX,EAAY,CAC5BA,IACFK,EAAK,MAAK,EACVC,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvBR,EAAUC,CAAU,EACd,KAAKY,GAAQ,CACb,QAAQ,IAAIA,CAAI,CAU1B,CAAU,EACA,MAAOC,GAAUL,EAAiBK,CAAK,CAAC,EACxC,QAAQ,IAAMN,EAAO,MAAM,QAAU,MAAM,EAErD,CAGEF,EAAK,iBAAiB,SAAUS,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,WAAW,MACnDJ,EAAaK,CAAS,CAEvB"}