{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarcup(data) {\n    return data.hits\n      .map(\n        el =>\n          `<div class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n                  <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n              </a>\n              <div class=\"gallery-item-info\">\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Likes: <span>${el.likes}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Views: <span>${el.views}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Comments: <span>${el.comments}</span>\n                      </span>    \n                  </p>\n                  <p class=\"gallery-item-info-par\">\n                      <span class=\"gallery-item-info-span\">Downloads: <span>${el.downloads}</span>\n                      </span>    \n                  </p>\n              </div>\n          </div>`\n      )\n      .join('');\n  }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst loader = document.querySelector('.loader');\nconst KEY = '43440045-443c1624e1412379947e54b30';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\n\n export function getImages(searchWord) {\n\n    const searchParamObj = {\n        key: KEY,\n        q: searchWord,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      };\n    const LINK = `${BASE_URL}?${searchParamObj}`;\n\n    loader.style.display = 'block'; /-------появился----/\n\n    return fetch(LINK)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n    .then(data => {\n\n        loader.style.display = 'none'; /-------исчез----/\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n                backgroundColor: '#ef4040',  \n                titleColor: '#FFFFFF',\n                messageColor: '#FFFFFF',\n                theme: 'dark',\n            });\n        }\n        return data;\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderMarcup } from \"./js/render-functions.js\";\nimport { getImages } from \"./js/pixabay-api.js\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    nav: true,\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 150,\n  });\n\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n  let searchWord = '';\n\n\n  form.addEventListener('submit', workSub);\n\n  function workSub(event) {\n    event.preventDefault();\n    \n    gallery.innerHTML = '';\n    searchWord = form.elements.searchQuery.value.trim();\n    \n    getImages(searchWord)\n    .then(data => {\n      const marcup = renderMarcup(data);\n      container.insertAdjacentHTML('beforeend', marcup);\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n  form.reset();\n\n  }\n\n"],"names":["renderMarcup","data","el","loader","KEY","BASE_URL","getImages","searchWord","LINK","response","iziToast","error","lightbox","SimpleLightbox","form","gallery","workSub","event","marcup"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAC/B,OAAOA,EAAK,KACT,IACCC,GACE;AAAA,8CACoCA,EAAG,aAAa;AAAA,oDACVA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,0EAIVA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,0EAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,6EAILA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,8EAIVA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,iBAKnF,EACA,KAAK,EAAE,CACd,CC1BA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAM,qCACNC,EAAW,2BAIT,SAASC,EAAUC,EAAY,CASnC,MAAMC,EAAO,GAAGH,CAAQ,IAPD,CACnB,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAC8C,GAE1C,OAAAJ,EAAO,MAAM,QAAU,QAEhB,MAAMK,CAAI,EAChB,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKR,IAEFE,EAAO,MAAM,QAAU,OAEnBF,EAAK,KAAK,SAAW,GACrBS,EAAS,MAAM,CACb,QACE,2EACA,gBAAiB,UACjB,WAAY,UACZ,aAAc,UACd,MAAO,MACvB,CAAa,EAEET,EACV,EACA,MAAMU,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,CACL,CCzCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEKC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIR,EAAa,GAGjBO,EAAK,iBAAiB,SAAUE,CAAO,EAEvC,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EAEpBF,EAAQ,UAAY,GACpBR,EAAaO,EAAK,SAAS,YAAY,MAAM,KAAI,EAEjDR,EAAUC,CAAU,EACnB,KAAKN,GAAQ,CACZ,MAAMiB,EAASlB,EAAaC,CAAI,EAChC,UAAU,mBAAmB,YAAaiB,CAAM,EAEhDN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMD,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACnC,CAAK,EACHG,EAAK,MAAK,CAEZ"}